.\" Man page for simple_shell
.TH SIMPLE_SHELL 1 "17 August 2025" "1.0" "simple_shell manual"

.SH NAME
simple_shell \- un interpréteur de commandes simple

.SH SYNOPSIS
.B ./hsh
.br
.B echo "commande" | ./hsh

.SH DESCRIPTION
.B simple_shell
est un interpréteur de commandes simple écrit en C. Il peut fonctionner en mode interactif ou non-interactif et exécute des commandes en utilisant leur chemin absolu ou en les recherchant dans la variable d'environnement PATH.

En mode interactif, le shell affiche un prompt 
.B ($) 
et attend que l'utilisateur saisisse une commande. En mode non-interactif, le shell lit les commandes depuis l'entrée standard.

.SH OPTIONS
Aucune option n'est supportée.

.SH COMMANDES INTÉGRÉES
.TP
.B exit [status]
Quitte le shell avec un statut de sortie spécifié. Si aucun statut n'est fourni, utilise le statut de sortie de la dernière commande exécutée.

.SH FONCTIONNEMENT
Le shell lit une ligne depuis l'entrée standard, vérifie si c'est la commande 
.B exit
, et si ce n'est pas le cas, tente d'exécuter la commande en utilisant 
.BR fork (2)
et 
.BR execve (2).

Les commandes peuvent être spécifiées avec leur chemin absolu (par exemple 
.B /bin/ls
) ou simplement par leur nom (par exemple 
.B ls
). Dans ce dernier cas, le shell recherche la commande dans les répertoires listés dans la variable d'environnement 
.B PATH
.

.SH GESTION DES ERREURS
Si une commande n'est pas trouvée, le shell affiche un message d'erreur au format :
.br
.B nom_programme: numéro_commande: commande: not found

Si une commande est trouvée mais n'a pas les permissions d'exécution, le shell affiche :
.br
.B nom_programme: numéro_commande: commande: Permission denied

Le shell retourne le statut de sortie 127 pour les commandes non trouvées et 126 pour les erreurs de permission.

.SH EXEMPLES
Mode interactif :
.EX
$ ./hsh
($) ls
shell.c shell.h README.md
($) pwd
/home/user/simple_shell
($) exit 42
$
.EE

Mode non-interactif :
.EX
$ echo "ls" | ./hsh
shell.c shell.h README.md
$ echo "exit" | ./hsh
$
.EE

.SH CODES DE SORTIE
.TP
.B 0
Succès
.TP
.B 126
Permission refusée
.TP
.B 127
Commande non trouvée

.SH ENVIRONNEMENT
Le shell utilise la variable d'environnement 
.B environ
pour passer l'environnement aux commandes exécutées.
.br
Le shell utilise également la variable d'environnement 
.B PATH
pour rechercher les commandes qui ne sont pas spécifiées avec un chemin absolu.

.SH FICHIERS
.TP
.B ./hsh
L'exécutable du shell

.SH BUGS
Le shell ne supporte pas :
.br
\- Les variables d'environnement dans les commandes
.br
\- Les pipes et redirections
.br
\- Les commandes composées
.br
\- L'historique des commandes
.br
\- Les alias
.br
\- Les fonctions shell

.SH AUTEURS
Aurelie Di Martino <aurelie.di-martino@holbertonstudents.com>
.br
Mickael Mur <mur.mickael@gmail.com>

.SH VOIR AUSSI
.BR sh (1),
.BR bash (1),
.BR execve (2),
.BR fork (2),
.BR waitpid (2),
.BR access (2),
.BR getenv (3)
